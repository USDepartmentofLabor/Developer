<div class = "alert-box small-9-text-centre">
     New API (v3) coming in 2018.
</div>
<div class="cmenu">
<h2>API Versions</h2>
<ul>
    <li><a href="#apiv1">API.dol.gov</a> <span class="version_badge_small">V1</span></li>
    <li><a href="#apiv2">Data.dol.gov</a> <span class="version_badge_small">V2</span></li>
</ul>
</div>
<h2 id="apiv1">API.dol.gov (V1)</h2>
<div class="content active panel documentation radius force_wrap">

        {{ anchors | markdownify }}


        <div class="post_content_dataset">
            <h3 class="anchorlinks" id="requesting" tabindex="-1">Requesting Dataset Metadata</h3>

            <h4>Authentication</h4>

            <p>This method does not require authentication. An API key is <strong>not</strong> required.</p>

            <h4>Arguments</h4>

            <p>$metadata (required)</p>

            <h4>Example URL</h4>

            <p>Read the metadata for the FORMS dataset</p>
            <pre><code>http://api.dol.gov/V1/FORMS/$metadata</code></pre>
            <h4>HTTP Error Codes</h4>
            <table summary="Requesting Dataset Metadata - Accessing the APIs Using HTTP Requests">
                <caption>Requesting Dataset Metadata - HTTP Error Codes</caption>
                <thead>
                <tr>
                    <th scope="col">Error Code</th>
                    <th scope="col">Error Text</th>
                    <th scope="col">Comments</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>404</td>
                    <td>Resource not found</td>
                    <td>The dataset name or table name is invalid</td>
                </tr>
                </tbody>
            </table>
            <h3>Comments</h3>
            None
        </div>
        <hr>
        <div class='post_content_dataset'>
            <div class='col12 pad1y'>
                <h3 class="anchorlinks" id="reading" tabindex="-1">Reading a table</h3>

                <h4>Authentication</h4>

                <p>This method does not require authentication.</p>

                <h4>Arguments</h4>

                <p>None</p>

                <h4>Example URL</h4>

                <p>Read Agencies table from the FORMS dataset</p>
                <pre><code>http://api.dol.gov/V1/FORMS/Agencies</code></pre>
                <h4>HTTP Error Codes</h4>
                <table summary="Reading a table - Accessing the APIs Using HTTP Requests">
                    <caption>Reading a Table - HTTP Error Codes</caption>
                    <thead>
                    <tr>
                        <th scope="col">Error Code</th>
                        <th scope="col">Error Text</th>
                        <th scope="col">Comments</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>404</td>
                        <td>Resource not found</td>
                        <td>The dataset name or table name is invalid</td>
                    </tr>
                    </tbody>
                </table>
                <h4>Comments</h4>
                A maximum of 100 records will be returned
            </div>
        </div>
        <hr>
        <div class='post_content_dataset'>
            <div class='col12 pad2y'>
                <h3 class="anchorlinks" id="limit" tabindex="-1">Limit the number of results returned</h3>

                <h4>Authentication</h4>

                <p>This method does not require authentication.</p>

                <h4>Arguments</h4>

                <p>$top (required)</p>

                <h4>Example URL</h4>

                <p>Read the first 10 records of the Agencies table from the FORMS dataset</p>
                <pre><code>http://api.dol.gov/V1/FORMS/Agencies?$top=10</code></pre>
                <h3>HTTP Error Codes</h3>
                <table summary="Limit the number of results returned - Accessing the APIs Using HTTP Requests">
                    <caption>Limit the Number of Results Returned - HTTP Error Codes</caption>
                    <thead>
                    <tr>
                        <th scope="col">Error Code</th>
                        <th scope="col">Error Text</th>
                        <th scope="col">Comments</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>400</td>
                        <td>Bad Request</td>
                        <td>The query contains an error. Read returned value for specific error.</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td>Resource not found</td>
                        <td>The dataset name or table name is invalid</td>
                    </tr>
                    </tbody>
                </table>
                <h3>Comments</h3>
                A maximum of 100 records will be returned
            </div>
        </div>
        <hr>
        <div class='post_content_dataset'>
            <div class='col12 pad1y'>
                <h3 class="anchorlinks" id="skip" tabindex="-1">Skip a Number of Results</h3>

                <h4>Authentication</h4>

                <p>This method does not require authentication</p>

                <h4>Arguments</h4>

                <p>$skip (required)</p>

                <h4>Example URL</h4>

                <p>Read the Agencies table from the FORMS dataset, skipping the first 5 results</p>
                <pre><code>http://api.dol.gov/V1/FORMS/Agencies?$skip=5</code></pre>
                <h4>HTTP Error Codes</h4>
                <table summary="Skip a Number of Results - Accessing the APIs Using HTTP Requests">
                    <caption>Skip a Number of Results - HTTP Error Codes</caption>
                    <thead>
                    <tr>
                        <th scope="col">Error Code</th>
                        <th scope="col">Error Text</th>
                        <th scope="col">Comments</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>400</td>
                        <td>Bad Request</td>
                        <td>The query contains an error. Read returned value for specific error.</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td>Resource not found</td>
                        <td>The dataset name or table name is invalid</td>
                    </tr>
                    </tbody>
                </table>
                <h4>Comments</h4>
                A maximum of 100 records will be returned
            </div>
        </div>
        <hr>
        <div class='post_content_dataset'>
            <div class='col12 pad1y'>
                <h3 class="anchorlinks" id="pagination" tabindex="-1">Data Pagination by Combining Top and Skip</h3>

                <h4>Authentication</h4>

                <p>This method does not require authentication</p>

                <h4>Arguments</h4>

                <p>$top (required)</p>

                <p>$skip (required)</p>

                <h4>Example URL</h4>

                <p>Read records 21-30 from the Agencies table in FORMS dataset</p>
                <pre><code>http://api.dol.gov/V1/FORMS/Agencies?$skip=20&amp;$top=10</code></pre>
                <h4>HTTP Error Codes</h4>
                <table summary="Data Pagination by Combining Top and Skip - Accessing the APIs Using HTTP Requests">
                    <caption>Data Pagination by Combining Top and Skip - HTTP Error Codes</caption>
                    <thead>
                    <tr>
                        <th scope="col">Error Code</th>
                        <th scope="col">Error Text</th>
                        <th scope="col">Comments</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>400</td>
                        <td>Bad Request</td>
                        <td>The query contains an error. Read returned value for specific error.</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td>Resource not found</td>
                        <td>The dataset name or table name is invalid</td>
                    </tr>
                    </tbody>
                </table>
                <h4>Comments</h4>
                A maximum of 100 records will be returned
            </div>
        </div>
        <hr>
        <div class='post_content_dataset'>
            <div class='col12 pad1y'>
                <h3 class="anchorlinks" id="select" tabindex="-1">Selecting Specific Columns</h3>

                <h4>Authentication</h4>

                <p>This method does not require authentication</p>

                <h4>Arguments</h4>

                <p>$select</p>

                <h4>Example URL</h4>

                <p>Read records from the AgencyForms table in FORMS dataset, returning only the FormNumber and Title
                    columns.</p>
                <pre><code>http://api.dol.gov/V1/FORMS/AgencyForms?$select=FormNumber,Title</code></pre>
                <h4>HTTP Error Codes</h4>
                <table summary="Selecting Specific Columns - Accessing the APIs Using HTTP Requests">
                    <caption>Selecting Specific Columns - HTTP Error Codes</caption>
                    <thead>
                    <tr>
                        <th scope="col">Error Code</th>
                        <th scope="col">Error Text</th>
                        <th scope="col">Comments</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>400</td>
                        <td>Bad Request</td>
                        <td>The query contains an error. Read returned value for specific error.</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td>Resource not found</td>
                        <td>The dataset name or table name is invalid</td>
                    </tr>
                    </tbody>
                </table>
                <h4>Comments</h4>
                A maximum of 100 records will be returned
            </div>
        </div>
        <hr>
        <div class='post_content_dataset'>
            <div class='col12 pad1y'>
                <h3 class="anchorlinks" id="sort" tabindex="-1">Sorting Data</h3>

                <h4>Authentication</h4>

                <p>This method does not require authentication</p>

                <h4>Arguments</h4>

                <p>$orderby</p>

                <h4>Example URLs</h4>

                <p>Read records from the AgencyForms table in FORMS dataset, sorting by the FormNumber column.</p>
                <pre><code>http://api.dol.gov/V1/FORMS/AgencyForms?$orderby=FormNumber</code></pre>
                <p>To sort the column by desc order, add desc after the column name </p>
                <pre><code>http://api.dol.gov/V1/FORMS/AgencyForms?$orderby=FormNumber desc</code></pre>
                <h4>HTTP Error Codes</h4>
                <table summary="Sorting Data - Accessing the APIs Using HTTP Requests">
                    <caption>Sorting Data - HTTP Error Codes</caption>
                    <thead>
                    <tr>
                        <th scope="col">Error Code</th>
                        <th scope="col">Error Text</th>
                        <th scope="col">Comments</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>400</td>
                        <td>Bad Request</td>
                        <td>The query contains an error. Read returned value for specific error.</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td>Resource not found</td>
                        <td>The dataset name or table name is invalid</td>
                    </tr>
                    </tbody>
                </table>
                <h4>Comments</h4>
                <ul>
                    <li>Ascending is the default order.</li>
                    <li>A maximum of 100 records will be returned</li>
                    <li>More than one column can be specified. Separate column names with commas.</li>
                </ul>
            </div>
        </div>
        <hr>
        <div class='post_content_dataset'>
            <div class='col12 pad1y'>
                <h3 class="anchorlinks" id="filter_single" tabindex="-1">Filtering Data - Single Filter</h3>

                <h4>Authentication</h4>

                <p>This method does not require authentication</p>

                <h4>Arguments</h4>

                <p>$filter</p>

                <h4>Comparison Keywords</h4>
                <ul>
                    <li>eq &ndash; Equal to</li>
                    <li>ne &ndash; Not Equal to</li>
                    <li>gt &ndash; Greater than</li>
                    <li>lt &ndash; Less than</li>
                    <li>ge &ndash; Greater than or equal to</li>
                    <li>le &ndash; Less than or equal to</li>
                </ul>
                <h4>Example URL</h4>

                <p>Read records from the AgencyForms table in FORMS dataset, returning only the records where the
                    AgencyId is equal to 'MSHA'.</p>
                <pre><code>http://api.dol.gov/V1/FORMS/AgencyForms?$filter=AgencyId eq 'MSHA'</code></pre>
                <h4>Example Response</h4>

                <p>[response]</p>

                <h4>HTTP Error Codes</h4>
                <table summary="Filtering Data - Single Filter - Accessing the APIs Using HTTP Requests">
                    <caption>Filtering Data - Single Filter - HTTP Error Codes</caption>
                    <thead>
                    <tr>
                        <th scope="col">Error Code</th>
                        <th scope="col">Error Text</th>
                        <th scope="col">Comments</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>400</td>
                        <td>Bad Request</td>
                        <td>The query contains an error. Read returned value for specific error.</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td>Resource not found</td>
                        <td>The dataset name or table name is invalid</td>
                    </tr>
                    </tbody>
                </table>
                <h4>Comments</h4>
                A maximum of 100 records will be returned
            </div>
        </div>
        <hr>
        <div class='post_content_dataset'>
            <div class='col12 pad1y'>
                <h3 class="anchorlinks" id="filter_multi" tabindex="-1">Filtering Data - Multiple Filters</h3>

                <h4>Authentication</h4>
                </p>This method does not require authentication</p>
                <h4>Arguments</h4>
                <ul>
                    <li>$filter (required)</li>
                    <li>and</li>
                    <li>or</li>
                </ul>
                <h4>Comparison Keywords</h4>
                <ul>
                    <li>eq &ndash; Equal to</li>
                    <li>ne &ndash; Not Equal to</li>
                    <li>gt &ndash; Greater than</li>
                    <li>lt &ndash; Less than</li>
                    <li>ge &ndash; Greater than or equal to</li>
                    <li>le &ndash; Less than or equal to</li>
                </ul>
                <h4>Example URL</h4>

                <p>Read records from the AgencyForms table in FORMS dataset where the AgencyId is equal to MSHA and the
                    Title is
                    equal to 'Legal Identity Report'.</p>
                <pre><code>http://api.dol.gov/V1/FORMS/AgencyForms?$filter=(AgencyId eq 'MSHA') and (Title eq 'Legal
                    Identity Report')</code></pre>
                <h4>HTTP Error Codes</h4>
                <table summary="Filtering Data - Multiple Filters - Accessing the APIs Using HTTP Requests">
                    <caption>Filtering Data - Multiple Filters - HTTP Error Codes</caption>
                    <thead>
                    <tr>
                        <th scope="col">Error Code</th>
                        <th scope="col">Error Text</th>
                        <th scope="col">Comments</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>400</td>
                        <td>Bad Request</td>
                        <td>The query contains an error. Read returned value for specific error.</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td>Resource not found</td>
                        <td>The dataset name or table name is invalid</td>
                    </tr>
                    </tbody>
                </table>
                <h4>Comments</h4>

                <p>A maximum of 100 records will be returned</p>
            </div>
        </div>
    </div><h2 id="apiv2">Data.dol.gov (V2)</h2>
<div class="content panel feature radius force_wrap" >

    <h3>Use Your Quarry API Key (<span style="color:#990000;">Required</span>)</h3>
    <br>
    <div class="panel requirement radius">
        <p>If you have an APIv1 Key, you may also use it for Quarry/APIV2</p>
    </div>
    <p>Register at <a href="https://devtools.dol.gov/developer/Account/Register">https://devtools.dol.gov/developer/Account/Register</a>
        to get a QUARRY API key. The new API key will be emailed to you.</p>

    <h3>Curl Generic Quarry Usage (<span style="color:#990000;">Strict Order</span>)</h3>

    <div class="force_wrap apiurl">
        <p>curl -H "X-API-KEY: <strong>YOUR_API_KEY</strong>"
            https://data.dol.gov/get/ALIAS/filtername1/filtervalue1/filtername2/filtervalue2</p>
    </div>
    <br/>

    {{ curl_table | markdownify }}

    <br/>

    <h3>Filtering Options</h3>

    <h4>Format</h4>
    <table summary="Return format">
        <caption>Dataset will be in JSON or XML.</caption>
        <thead>
        <tr>
            <th scope="col">Key/Value</th>
            <th scope="col">Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><span class="force_wrap apiurl"><p>/format/json</p></span></td>
            <td>JSON</td>
        </tr>
        <tr>
            <td><span class="force_wrap apiurl"><p>/format/xml</p></span></td>
            <td>XML</td>
        </tr>
        <tr>
            <td>Default</td>
            <td>JSON</td>
        </tr>

        </tbody>
    </table>

    <br/>

    <h4>Limit</h4>
    <table summary="Limiting rows to return">
        <caption>Number of rows to return. While the maximum allowed for APIv2 is 200, a value of 0
            will return the limit set by the server which could differ.
        </caption>
        <thead>
        <tr>
            <th scope="col">Key/Value</th>
            <th scope="col">Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><span class="force_wrap apiurl"><p>/limit/0</p></span></td>
            <td>Return all allowable data.</td>
        </tr>
        <tr>
            <td><span class="force_wrap apiurl"><p>/limit/YOUR_NUMBER</p></span></td>
            <td>Return desired number of rows.</td>
        </tr>
        <tr>
            <td><span class="force_wrap apiurl"><p>/limit/200</p></span></td>
            <td>Quarry API return limit.</td>
        </tr>
        <tr>
            <td>Default</td>
            <td>Return all allowable data.</td>
        </tr>

        </tbody>
    </table>

    <br/><a name="offset-page"></a>
     <h4>Offset</h4>
                <table summary="Specifies the pagination in a request">
                <caption>Offset allows you to paginate a request and by using offset, you will be able to browse data in sets of up to 200 records at a time. Increasing the offset each time you request records will allow you to see additional records from the dataset you are viewing.</caption>
                <thead>
                <tr>
                    <th scope="col">Key/Value</th>
                    <th scope="col">Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>

                </tr>
                <tr>
                    <td><span class="force_wrap apiurl"><p>/offset/YOUR_NUMBER</p></span></td>
                    <td>Paginate the request starting at YOUR_NUMBER.</td>
                </tr>
                <tr>

                </tr>
                <tr>

                </tr>

                </tbody>
            </table>
            <div class="guide_note large-8 medium-8">
                <p><strong>Note:</strong> The offset works differently for these datasets. You need to use the columns name with the offset amount such as "column name/offset number", An example would be  - "/flc_name/25".</p>
            </div>

        <br/>

    <h4>Order</h4>
    <table summary="Sorting Order">
        <caption>Ascending or descending sorting order as determined by the targeted datasource
        </caption>
        <thead>
        <tr>
            <th scope="col">Key/Value</th>
            <th scope="col">Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><span class="force_wrap apiurl"><p>/orderby/asc</p></span></td>
            <td>Ascending order.</td>
        </tr>
        <tr>
            <td><span class="force_wrap apiurl"><p>/orderby/desc</p></span></td>
            <td>Descending order.</td>
        </tr>
        <tr>
            <td>Default</td>
            <td>Ascending order.</td>
        </tr>

        </tbody>
    </table>

    <br />

    <h4>Columns</h4>
    <table summary="Selecting columns to return">
        <caption>Columns can be selected individually with the columns keyword.  Datasets will be sorted by the
            first column field.
        </caption>
        <thead>
        <tr>
            <th scope="col">Segment</th>
            <th scope="col">Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><span class="force_wrap apiurl"><p>columns</p></span></td>
            <td>Must be included for column filtering.</td>
        </tr>
        <tr>
            <td><span class="force_wrap apiurl"><p>:</p></span></td>
            <td>The delimiter separating columns </td>
        </tr>
        <tr>
            <td><span class="force_wrap apiurl"><p>/columns/first_column:second_column:third_column </p></span></td>
            <td>Example.</td>
        </tr>

        </tbody>
    </table>

    <br />

    <h4> Filter Column</h4>
    <table summary="Selecting columns to return">
        <caption> The "Filter Column" can be selected individually with the columns keyword or matching keywords. For example, the user is searching by city for "Edmonton". The search will show you all matching items for that city. NOTE: You can have multiple column searches by using ":" the between columns. The search results will be sorted by the first "filter_column" field in ascending order. See examples below for formatting.
        </caption>
        <thead>
        <tr>
            <th scope="col">Segment</th>
            <th scope="col">Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><span class="force_wrap apiurl"><p>filter_column</p></span></td>
            <td>Must be included for filter column filtering.</td>
        </tr>
        <tr>
            <td><span class="apiurl"><p>=</p></span></td>
            <td>The equal sign "<strong>=</strong>" must be included after seleted field for the filter column and before the fields value you are looking to find. Example URL<p>curl -k -H "X-API-KEY: YOUR_API_KEY" https://data.dol.gov/get/violation/limit/130/filter_column/issuance_date=the value</p>
            </td>
        </tr>
        <tr>
            <td><span class="apiurl"><p>:</p></span></td>
            <td>The delimiter separating filter column name </td>
        </tr>
        <tr>
            <td><span class="force_wrap apiurl"><p>/filter_column/first_column=the value:second_column=the value:third_column=the value </p></span></td>
            <td>Example URL<p>curl -k -H "X-API-KEY: YOUR_API_KEY"
                https://data.dol.gov/get/violation/limit/130/filter_column/issuance_date=the value:citation_id=the value:standard=the value </p> </td>
        </tr>

        </tbody>
    </table>

    <br />


    <h4>Dates (yyyy-mm-dd)</h4>
    <table summary="Selecting dates">
        <caption>Searching by dates
        </caption>
        <thead>
        <tr>
            <th scope="col">Key/Value</th>
            <th scope="col">Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><span class="force_wrap apiurl"><p>date_column</p></span></td>
            <td>Must be included to search dates.</td>
        </tr>
        <tr>
            <td>(Column Name)</td>
            <td>Specify the column name to search by-date</td>
        </tr>
        <tr>
            <td><span class="force_wrap apiurl"><p>start_date</p></span></td>
            <td>Start date will search from the start date to now.</td>
        </tr>
        <tr>
            <td><span class="force_wrap apiurl"><p>end_date</p></span></td>
            <td>The past up to the end date (200 maximum rows returned in reversed order from the end date)</td>
        </tr>
        <tr>
            <td>Both start_date and end_date</td>
            <td>Exact date range.</td>
        </tr>
        <tr>
            <td><span class="force_wrap apiurl"><p>/date_column/COLUMN_NAME/start_date/YYYY-MM-DD</p></span></td>
            <td>Example (by start date)</td>
        </tr>
        <tr>
            <td><span class="force_wrap apiurl"><p>/date_column/COLUMN_NAME/end_date/YYYY-MM-DD</p></span></td>
            <td>Example (by end date)</td>
        </tr>
        <tr>
            <td><span class="force_wrap apiurl"><p>/date_column/COLUMN_NAME/start_date/YYYY-MM-DD/end_date/YYYY-MM-DD</p></span></td>
            <td>Example (by date range)</td>
        </tr>

        </tbody>
    </table>

    <br />

    <h4>Multi-Filtering</h4>
    <table summary="Multi-filtering examples">
        <caption>Examples
        </caption>
        <thead>
        <tr>
            <th scope="col">Example URL</th>
            <th scope="col">Explanation</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><span class="force_wrap apiurl"><p>curl -H "X-API-KEY: YOUR_API_KEY"
                https://data.dol.gov/get/accident/format/xml/limit/10/orderby/desc/columns/summary_nr:event_desc:event_time</p></span></td>
            <td>Select 10 rows from the <a href="/health-and-safety/dol-osha-enforcement#osha_accident/">OSHA accident table</a>.
                Result is in XML format, will include the 3 specified columns (summary_nr,event_desc,event_time) and will be sorted in
                descending order by the summary_nr column.</td>
        </tr>
        <tr>
            <td><span class="force_wrap apiurl"><p>curl -k -H "X-API-KEY: YOUR_API_KEY"
                https://data.dol.gov/get/violation/limit/130/orderby/asc/columns/issuance_date:citation_id:standard/date_column/issuance_date/start_date/2010-03-15/end_date/2015-04-15</p></span></td>
            <td>Select 130 rows from the <a href="/health-and-safety/dol-osha-enforcement#osha_violation/">OSHA Violation table</a>.
                Result is in JSON format, will include the 3 specified columns (issuance_date,citation_id,standard) and will be sorted in
                ascending order by the issuance_date column. Only returns results where issuance_date falls within
                the specified date range (2010-03-15 to 2015-04-15)</td>
        </tr>

        </tbody>
    </table>

</div>


